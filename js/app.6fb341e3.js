(function(t){function e(e){for(var a,o,r=e[0],d=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var d=n[r];0!==i[d]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=d;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3f48":function(t,e,n){},5296:function(t,e,n){"use strict";n("cb91")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container"},[n("h1",[t._v("my company list")]),n("div",{staticClass:"component-container"},[n("listApp")],1)])},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"show-add-btn-container"},[n("button",{staticClass:"show-add-btn btn-styles",on:{click:function(e){t.showButtons=!0}}},[t._v(" + Добавить ")])]),t.showButtons?n("div",{staticClass:"add-btns-container"},[n("addCompany",{on:{"add-company":t.addCompany,closeModal:function(e){t.showButtons=!1}}})],1):t._e(),t._m(0),n("hr"),n("ul",t._l(t.companies,(function(e,a){return n("li",{key:a},[n("appItem",{attrs:{company:e,index:a},on:{"remove-company":t.removeCompany}}),n("hr")],1)})),0)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"companies-container"},[n("div",{staticClass:"name-header font-weight"},[n("strong",[t._v("Имя:")])]),n("div",{staticClass:"font-weight"},[t._v("Адрес:")]),n("div",{staticClass:"font-weight"},[t._v("ОГРН:")]),n("div",{staticClass:"font-weight"},[t._v("ИНН:")]),n("div",{staticClass:"font-weight"},[t._v("Дата регистрации:")])])}],d=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fields"},[n("div",{staticClass:"name"},[t._v(t._s(t.index+1)+") "+t._s(t.company.name))]),t.toEdit?t._e():n("div",{staticClass:"address",on:{click:function(e){t.toEdit=!t.toEdit}}},[t._v(t._s(t.company.address))]),t.toEdit?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.company.address,expression:"company.address"}],domProps:{value:t.company.address},on:{input:function(e){e.target.composing||t.$set(t.company,"address",e.target.value)}}}),n("button",{staticClass:"btn-styles",on:{click:function(e){t.addressField=t.company.address,t.toEdit=!1}}},[t._v("Сохранить")])]):t._e(),n("div",{staticClass:"ogrn"},[t._v(t._s(t.company.ogrn))]),n("div",{staticClass:"inn"},[t._v(t._s(t.company.inn))]),n("div",{staticClass:"date"},[t._v(t._s(t.company.date))]),n("div",[n("button",{staticClass:"btn-styles",attrs:{type:"button"},on:{click:function(e){return t.$emit("remove-company",t.company.id)}}},[t._v("×")])])])}),c=[],l=(n("a9e3"),{props:{company:{type:Object,required:!0},index:Number},data:function(){return{toEdit:!1,addressField:""}}}),u=l,p=(n("83c4"),n("2877")),m=Object(p["a"])(u,d,c,!1,null,"1b60b108",null),v=m.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-btn-container"},[n("div",{staticClass:"add-btns-container"},[n("button",{staticClass:"add-btn btn-styles",on:{click:t.addCompany}},[n("span",[t._v("Добавить компанию")])]),n("button",{staticClass:"close-modal btn-styles",on:{click:t.checkInn}},[t._v("Получить данные")]),n("button",{staticClass:"close-modal btn-styles",on:{click:t.closeModal}},[t._v(" Закрыть ")])]),n("div",{staticClass:"add-group"},[n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.$v.name.required?t._e():n("p",{staticClass:"validation"},[t._v("Введите название компании")])]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),t.$v.address.required?t._e():n("p",{staticClass:"validation"},[t._v("Введите адрес компании")])]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ogrn,expression:"ogrn"}],domProps:{value:t.ogrn},on:{input:function(e){e.target.composing||(t.ogrn=e.target.value)}}}),t.$v.ogrn.minLength?t._e():n("p",{staticClass:"validation"},[t._v("Не менее 13 цифр!")]),t.$v.ogrn.maxLength?t._e():n("p",{staticClass:"validation"},[t._v("Не более 13 цифр!")]),t.$v.ogrn.required?t._e():n("p",{staticClass:"validation"},[t._v("Введите ОГРН компании")])]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inn,expression:"inn"}],domProps:{value:t.inn},on:{input:function(e){e.target.composing||(t.inn=e.target.value)}}}),t.$v.inn.minLength?t._e():n("p",{staticClass:"validation"},[t._v("Не менее 10 цифр!")]),t.$v.inn.maxLength?t._e():n("p",{staticClass:"validation"},[t._v("Не более 10 цифр!")]),t.$v.inn.required?t._e():n("p",{staticClass:"validation"},[t._v("Введите ИНН компании")])]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),t.$v.date.required?t._e():n("p",{staticClass:"validation"},[t._v("Введите дату создания компании")])])])])},g=[],h=(n("498a"),n("b0c0"),n("1dce")),_=n("b5ae"),b=n("bc3a"),y=n.n(b),C="01f0ba5152ff70b0d4daf6634f8a5a29e44d763c",x={mixins:[h["validationMixin"]],data:function(){return{name:"",address:"",ogrn:"",inn:"",date:""}},validations:{name:{required:_["required"]},address:{required:_["required"]},ogrn:{minLength:Object(_["minLength"])(13),maxLength:Object(_["maxLength"])(13),required:_["required"]},inn:{minLength:Object(_["minLength"])(10),maxLength:Object(_["maxLength"])(10),required:_["required"]},date:{required:_["required"]}},methods:{addCompany:function(){if(this.name.trim()){var t={id:Date.now(),name:this.name,address:this.address,ogrn:this.ogrn,inn:this.inn,date:this.date};this.$emit("add-company",t),this.clearForm()}},clearForm:function(){this.name="",this.address="",this.ogrn="",this.inn="",this.date=""},closeModal:function(){this.$emit("closeModal")},checkInn:function(){var t=this,e=y.a.create({timeout:1e3,headers:{Authorization:"Token "+C}});e.post("https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party",{query:this.inn}).then((function(e){var n=e.data.suggestions[0].data;t.name=n.name.full_with_opf,t.address=n.address.value,t.ogrn=n.ogrn,t.date=t.getFormatDate(n.ogrn_date),console.log(n)})).catch((function(t){console.log(t)}))},getFormatDate:function(t){var e=function(t){return t<10?"0".concat(t):t},n=new Date(t);return e(n.getDay())+"."+e(n.getMonth())+"."+n.getFullYear()}}},w=x,O=(n("6173"),Object(p["a"])(w,f,g,!1,null,"1732ee29",null)),$=O.exports,j={components:{appItem:v,addCompany:$},data:function(){return{showButtons:!1,companies:[]}},methods:{removeCompany:function(t){this.companies=this.companies.filter((function(e){return e.id!==t}))},addCompany:function(t){this.companies.push(t)}}},q=j,k=(n("5296"),Object(p["a"])(q,o,r,!1,null,"c56eb942",null)),P=k.exports,L={name:"App",components:{listApp:P}},E=L,M=(n("fabb"),Object(p["a"])(E,i,s,!1,null,"b39d5abe",null)),F=M.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(F)}}).$mount("#app")},6173:function(t,e,n){"use strict";n("3f48")},"83c4":function(t,e,n){"use strict";n("ddfe")},cb91:function(t,e,n){},ddfe:function(t,e,n){},e784:function(t,e,n){},fabb:function(t,e,n){"use strict";n("e784")}});
//# sourceMappingURL=app.6fb341e3.js.map